# ====================
# 🔐 VARIABLES D'ENVIRONNEMENT - SYSTÈME QR CODE
# ====================

# ⚠️ IMPORTANT: Copiez ce fichier vers .env.local et remplissez les valeurs

# 🔗 Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=
# Pour la production (OBLIGATOIRE pour les webhooks)
SUPABASE_SERVICE_ROLE_KEY=

# 💳 Stripe - Configuration QR Code (NOUVEAU)
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key

# 🌐 App Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000
NEXT_PUBLIC_APP_NAME="Calendriers SP"
NEXT_PUBLIC_SUPABASE_STORAGE_URL=http://serveur:9000/bucket_name

# 📧 Email Configuration (existant)
GOTENBERG_URL=
GOTENBERG_USERNAME=
GOTENBERG_PASSWORD=

# 🗄️ Storage S3 MINIO (existant)
MINIO_URL=
SERVICE_USER_MINIO=
SERVICE_PASSWORD_MINIO=
AWS_ACCESS_KEY_ID=${SERVICE_USER_MINIO}
AWS_SECRET_ACCESS_KEY=${SERVICE_PASSWORD_MINIO}
AWS_REGION=us-east-1
STORAGE_S3_ENDPOINT=http://minio:9000

# ====================
# 📋 CONFIGURATION QR CODE - GUIDE RAPIDE
# ====================

# 1. 🎯 CRÉER LES PAYMENT LINKS STRIPE:
#    - Dashboard Stripe > Payment Links
#    - Créez 5 liens (1 par équipe) à 10€
#    - Activez "Collect customer information" 
#    - Notez les URLs générées

# 2. 🔧 CONFIGURER LE WEBHOOK STRIPE:
#    - Dashboard Stripe > Developers > Webhooks
#    - URL: {NEXT_PUBLIC_APP_URL}/api/stripe-webhook
#    - Événements: checkout.session.completed, checkout.session.expired
#    - Copiez la signing secret

# 3. 🗄️ EXÉCUTER LA MIGRATION SUPABASE:
#    - Copiez migrations/001_add_qr_code_system.sql
#    - Exécutez dans l'éditeur SQL Supabase
#    - Mettez à jour stripe_payment_link_url pour chaque équipe

# 4. 🚀 TESTEZ:
#    - Redémarrez npm run dev
#    - Générez un QR code dans ExistingDonForm
#    - Scannez avec votre téléphone
#    - Vérifiez le paiement test Stripe